{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\riley\\\\source\\\\repos\\\\boeing-naturallanguageprocessing\\\\boeing\\\\src\\\\components\\\\App.js\";\nimport React from 'react';\nimport NavBar from './NavBar.js';\nimport Documents from './Documents.js';\nimport Terms from './Terms.js';\nimport Categories from './Categories.js';\nimport Taxonomy from './Taxonomy.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.Files = async () => {\n      if (this.state.input == \"\") {\n        console.log(\"NO INPUT\");\n        return false;\n      }\n\n      if (this.state.output == \"\") {\n        console.log(\"NO OUTPUT\");\n        return false;\n      }\n\n      let directories = {\n        input: this.state.input,\n        output: this.state.output\n      };\n      await fetch('/files', {\n        method: \"POST\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(directories)\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          filesList: data\n        });\n      });\n    };\n\n    this.Parser = async () => {\n      let directories = {\n        input: this.state.input,\n        output: this.state.output,\n        files: this.state.files\n      };\n      await fetch('/parse', {\n        method: \"POST\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(directories)\n      }).then(res => res.json()) //.then(data => {this.setState({dict: data})})\n      .then(this.getWeight()) // Runs parser then gets the weights after.\n      //.then(this.saveCorpus)\n      .then(this.saveCorpus()); // saves set of all noun/noun-phrases in corpus to a single csv \n    };\n\n    this.getWeight = async () => {\n      let input = {\n        input: this.state.output,\n        files: this.state.files\n      };\n      await fetch('/weights', {\n        method: \"POST\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(input)\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          weights: data\n        });\n      });\n    };\n\n    this.saveCorpus = async () => {\n      let input = {\n        output: this.state.output,\n        files: this.state.files,\n        corpusName: this.state.corpusName\n      }; //TODO: pass name of corpus to backend\n\n      await fetch('/saveCorpus', {\n        method: \"POST\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(input)\n      }).then(res => res.json()).then(data => {\n        console.log(\"SAVE CORPUS COMPLETE\");\n      });\n    };\n\n    this.loadCorpus = async () => {\n      // TODO: pass output location and name of csv then load to apps state.weights obj\n      let input = {\n        output: this.state.output,\n        corpusName: this.state.corpusName\n      };\n      await fetch('loadCorpus', {\n        method: \"POST\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(input)\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          weights: data\n        });\n      });\n    };\n\n    this.saveWeight = async () => {\n      let inputInfo = {\n        input: this.state.output,\n        corpusName: this.state.corpusName,\n        data: this.state.weights\n      };\n      await fetch('/saveWeight', {\n        method: \"POST\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(inputInfo)\n      }).then(res => res.json());\n    };\n\n    this.createCategory = async name => {\n      const res = await fetch('/category', {\n        method: \"POST\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(name)\n      }).then(res => res.json());\n      const newCat = { ...this.state.categories\n      };\n      newCat[Object.keys(res)[0]] = Object.values(res)[0];\n      this.setState({\n        categories: newCat\n      }); // .then(res => res.json())\n      //     .then(data => {this.setState({categories: data})})\n    };\n\n    this.sendCategories = async cat => {\n      let inputInfo = {\n        input: this.state.output,\n        corpusName: this.state.corpusName,\n        data: this.state.categories\n      };\n      await fetch('/saveCategories', {\n        method: \"POST\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(inputInfo)\n      }).then(res => res.json()); //const newCat = {...this.state.categories}\n      //newCat[Object.keys(res)[0]] = Object.values(res)[0]\n      //this.setState({categories: newCat})\n    };\n\n    this.saveRelationships = async (edges, nodes, relationshipTypes) => {\n      let inputInfo = {\n        input: this.state.output,\n        corpus: this.state.corpusName,\n        data1: edges,\n        data2: nodes,\n        data3: relationshipTypes\n      };\n      await fetch('/saveRelationships', {\n        method: \"POST\",\n        headers: {\n          \"content_type\": \"application/json\"\n        },\n        body: JSON.stringify(inputInfo)\n      }).then(res => res.json()); //const newCat = {...this.state.categories}\n      //newCat[Object.keys(res)[0]] = Object.values(res)[0]\n      //this.setState({categories: newCat})\n    };\n\n    this.addToWeights = termsIndex => {\n      const toDelete = [];\n      const newCat = { ...this.state.categories\n      };\n      const newWeights = { ...this.state.weights\n      };\n\n      for (let r = 0; r < termsIndex.length; r++) {\n        toDelete.push([Object.keys(this.state.categories)[termsIndex[r][0]], Object.keys(Object.values(this.state.categories)[termsIndex[r][0]])[termsIndex[r][1]], Object.values(Object.values(this.state.categories)[termsIndex[r][0]])[termsIndex[r][1]]]);\n      }\n\n      for (let r = 0; r < toDelete.length; r++) {\n        newWeights[toDelete[r][1]] = toDelete[r][2];\n        delete newCat[toDelete[r][0]][toDelete[r][1]];\n      }\n\n      this.setState({\n        categories: newCat,\n        weights: newWeights\n      });\n    };\n\n    this.addToCategory = (termsIndex, cat) => {\n      const toAdd = [];\n      const newCat = { ...this.state.categories\n      };\n      const newWeights = { ...this.state.weights\n      };\n\n      for (let r = 0; r < termsIndex.length; r++) {\n        toAdd.push([Object.keys(this.state.categories)[cat], Object.keys(this.state.weights)[termsIndex[r]], Object.values(this.state.weights)[termsIndex[r]]]);\n      }\n\n      for (let r = 0; r < toAdd.length; r++) {\n        newCat[toAdd[r][0]][toAdd[r][1]] = toAdd[r][2];\n        delete newWeights[toAdd[r][1]];\n      }\n\n      this.setState({\n        categories: newCat,\n        weights: newWeights\n      });\n    };\n\n    this.deleteTerms = terms => {\n      const newWeights = { ...this.state.weights\n      };\n      const toDelete = [];\n\n      for (let r = 0; r < terms.length; r++) {\n        toDelete.push([Object.keys(this.state.weights)[terms[r]]]);\n      }\n\n      for (let r = 0; r < toDelete.length; r++) {\n        delete newWeights[toDelete[r]];\n      }\n\n      this.setState({\n        weights: newWeights\n      });\n    };\n\n    this.deleteFile = r => {\n      const newFiles = { ...this.state.files\n      };\n      delete newFiles[Object.keys(this.state.filesList)[r]];\n      this.setState({\n        files: newFiles\n      });\n    };\n\n    this.addFile = r => {\n      const newFiles = { ...this.state.files\n      };\n      newFiles[Object.keys(this.state.filesList)[r]] = Object.values(this.state.filesList)[r];\n      this.setState({\n        files: newFiles\n      });\n    };\n\n    this.deleteCategory = cat => {\n      const newWeights = { ...this.state.weights\n      };\n      const newCat = { ...this.state.categories\n      };\n      const toAdd = [];\n\n      for (let r = 0; r < Object.keys(Object.values(this.state.categories)[cat]).length; r++) {\n        toAdd.push([Object.keys(Object.values(this.state.categories)[cat])[r], Object.values(Object.values(this.state.categories)[cat])[r]]);\n      }\n\n      for (let r = 0; r < Object.keys(toAdd).length; r++) {\n        newWeights[toAdd[r][0]] = toAdd[r][1];\n      }\n\n      delete newCat[Object.keys(this.state.categories)[cat]];\n      this.setState({\n        categories: newCat,\n        weights: newWeights\n      });\n    };\n\n    this.saveCategories = cats => {\n      this.sendCategories(cats);\n    };\n\n    this.nextPage = () => {\n      if (this.state.mode === 33) {\n        this.setState({\n          mode: 66\n        });\n      } else if (this.state.mode == 66) {\n        this.setState({\n          mode: 99\n        });\n      } else if (this.state.mode == 99) {\n        this.setState({\n          mode: 100\n        });\n      }\n    };\n\n    this.prevPage = () => {\n      if (this.state.mode === 100) {\n        this.setState({\n          mode: 99\n        });\n      } else if (this.state.mode == 99) {\n        this.setState({\n          mode: 66\n        });\n      } else if (this.state.mode == 66) {\n        this.setState({\n          mode: 33\n        });\n      }\n    };\n\n    this.setInput = input => {\n      this.setState({\n        input: input\n      });\n    };\n\n    this.setOutput = output => {\n      this.setState({\n        output: output\n      });\n    };\n\n    this.saveCorpusName = name => {\n      this.setState({\n        corpusName: name\n      });\n    };\n\n    this.state = {\n      //dict: {},\n      weights: {},\n      mode: 33,\n      // categories: {colors: {\"red\": {frequency: 1, weight: 1}, \"blue\": {frequency: 2, weight: 2}},\n      //              shapes: {\"square\": {frequency: 1, weight: 1}, \"circle\": {frequency: 2, weight: 2}}}\n      categories: {},\n      input: \"\",\n      output: \"\",\n      files: {},\n      filesList: {},\n      corpusName: 'corpus'\n    };\n  } //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n  //                       Route Functions\n  //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n  // Route to run parser from input location and save to output location\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {\n        mode: this.state.mode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), this.state.mode === 33 ? /*#__PURE__*/_jsxDEV(Documents //dict={this.state.dict}\n      , {\n        nextPage: this.nextPage,\n        setInput: this.setInput,\n        setOutput: this.setOutput,\n        oldInput: this.state.input,\n        oldOutput: this.state.output,\n        Files: this.Files,\n        files: this.state.files,\n        filesList: this.state.filesList,\n        deleteFile: this.deleteFile,\n        addFile: this.addFile,\n        saveCorpusName: this.saveCorpusName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this) : this.state.mode === 66 ? /*#__PURE__*/_jsxDEV(Terms, {\n        Parser: this.Parser,\n        loadCorpus: this.loadCorpus //dict={this.state.dict}\n        ,\n        nextPage: this.nextPage,\n        prevPage: this.prevPage,\n        getWeight: this.getWeight,\n        saveWeight: this.saveWeight,\n        weights: this.state.weights //setOutput={this.setOutput}\n        ,\n        deleteTerms: this.deleteTerms //oldOutput={this.state.output}\n        ,\n        save: this.saveCorpus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 25\n      }, this) : this.state.mode === 99 ? /*#__PURE__*/_jsxDEV(Categories, {\n        getWeight: this.getWeight,\n        weights: this.state.weights,\n        nextPage: this.nextPage,\n        prevPage: this.prevPage,\n        createCategory: this.createCategory,\n        categories: this.state.categories,\n        addToWeights: this.addToWeights,\n        addToCategory: this.addToCategory,\n        saveCategories: this.saveCategories,\n        deleteCategory: this.deleteCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(Taxonomy, {\n        saveRelationships: this.saveRelationships,\n        prevPage: this.prevPage,\n        categories: this.state.categories\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/riley/source/repos/boeing-naturallanguageprocessing/boeing/src/components/App.js"],"names":["React","NavBar","Documents","Terms","Categories","Taxonomy","App","Component","constructor","props","Files","state","input","console","log","output","directories","fetch","method","headers","body","JSON","stringify","then","res","json","data","setState","filesList","Parser","files","getWeight","saveCorpus","weights","corpusName","loadCorpus","saveWeight","inputInfo","createCategory","name","newCat","categories","Object","keys","values","sendCategories","cat","saveRelationships","edges","nodes","relationshipTypes","corpus","data1","data2","data3","addToWeights","termsIndex","toDelete","newWeights","r","length","push","addToCategory","toAdd","deleteTerms","terms","deleteFile","newFiles","addFile","deleteCategory","saveCategories","cats","nextPage","mode","prevPage","setInput","setOutput","saveCorpusName","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport NavBar from './NavBar.js';\r\nimport Documents from './Documents.js'\r\nimport Terms from './Terms.js'\r\nimport Categories from './Categories.js'\r\nimport Taxonomy from './Taxonomy.js'\r\n\r\nclass App extends React.Component { \r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //dict: {},\r\n                  weights: {},\r\n                  mode: 33,\r\n                  // categories: {colors: {\"red\": {frequency: 1, weight: 1}, \"blue\": {frequency: 2, weight: 2}},\r\n                  //              shapes: {\"square\": {frequency: 1, weight: 1}, \"circle\": {frequency: 2, weight: 2}}}\r\n                  categories: {},\r\n                  input: \"\",\r\n                  output: \"\",\r\n                  files: {},\r\n                  filesList: {},\r\n                  corpusName: 'corpus'\r\n                  };\r\n  }\r\n  //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n  //                       Route Functions\r\n  //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n  \r\n  // Route to run parser from input location and save to output location\r\n  Files = async() => {\r\n\r\n    if (this.state.input == \"\") {\r\n      console.log(\"NO INPUT\")\r\n      return false;\r\n    }\r\n    if (this.state.output == \"\") {\r\n      console.log(\"NO OUTPUT\")\r\n      return false;\r\n    }\r\n\r\n    let directories = {input: this.state.input,\r\n      output: this.state.output}\r\n    await fetch('/files', {\r\n      method: \"POST\",\r\n      headers:{\r\n          \"content_type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(directories)})\r\n        .then(res => res.json())\r\n          .then(data => {this.setState({filesList: data})})\r\n  }\r\n\r\n  // Route to run parser from input location and save to output location\r\n  Parser = async() => {\r\n    let directories = {input: this.state.input,\r\n      output: this.state.output,\r\n      files: this.state.files}\r\n    await fetch('/parse', {\r\n      method: \"POST\",\r\n      headers:{\r\n          \"content_type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(directories)})\r\n        .then(res => res.json())\r\n          //.then(data => {this.setState({dict: data})})\r\n            .then(this.getWeight()) // Runs parser then gets the weights after.\r\n\r\n              //.then(this.saveCorpus)\r\n\r\n              .then(this.saveCorpus()) // saves set of all noun/noun-phrases in corpus to a single csv \r\n\r\n  }\r\n\r\n  // Route to get weights from parser's output location\r\n  getWeight = async() => {\r\n    let input = {input: this.state.output,\r\n      files: this.state.files}\r\n\r\n    await fetch('/weights', {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"content_type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(input)})\r\n                    .then(res => res.json())\r\n                      .then(data => {this.setState({weights: data})})\r\n  }\r\n\r\n  // Route to save noun-phrase, context, freq and weight of full corpus\r\n  saveCorpus = async() => {\r\n    let input = {output: this.state.output, \r\n      files: this.state.files, corpusName: this.state.corpusName} //TODO: pass name of corpus to backend\r\n\r\n    \r\n      await fetch('/saveCorpus', {\r\n        method: \"POST\",\r\n        headers:{\r\n            \"content_type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(input)})\r\n                .then(res => res.json())\r\n                  .then(data => {console.log(\"SAVE CORPUS COMPLETE\")})\r\n  }\r\n  \r\n  loadCorpus = async() => {\r\n    // TODO: pass output location and name of csv then load to apps state.weights obj\r\n    let input = {output: this.state.output, corpusName: this.state.corpusName}\r\n\r\n    await fetch('loadCorpus', {\r\n      method: \"POST\",\r\n      headers:{\r\n          \"content_type\": \"application/json\",\r\n      },\r\n    body: JSON.stringify(input)})\r\n            .then(res => res.json())\r\n              .then(data => {this.setState({weights: data})})\r\n  }\r\n\r\n  saveWeight = async() => {\r\n    let inputInfo = {input: this.state.output, corpusName:this.state.corpusName, data:this.state.weights}\r\n    await fetch('/saveWeight', {\r\n      method: \"POST\",\r\n      headers:{\r\n          \"content_type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(inputInfo)})\r\n          .then(res => res.json())\r\n  }\r\n  // Route to create a new category\r\n  createCategory = async(name) => {\r\n    const res = await fetch('/category', {\r\n            method: \"POST\",\r\n            headers:{\r\n                \"content_type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(name)})\r\n                .then(res => res.json())\r\n\r\n    const newCat = {...this.state.categories}\r\n    newCat[Object.keys(res)[0]] = Object.values(res)[0]\r\n    this.setState({categories: newCat})\r\n              // .then(res => res.json())\r\n              //     .then(data => {this.setState({categories: data})})\r\n  }\r\n\r\n  //TODO!!!: save categories and pass to front end!!!\r\n  sendCategories = async(cat) => {\r\n    let inputInfo = {input: this.state.output, corpusName:this.state.corpusName, data:this.state.categories}\r\n    await fetch('/saveCategories', {\r\n      method: \"POST\",\r\n      headers:{\r\n          \"content_type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(inputInfo)})\r\n          .then(res => res.json())\r\n\r\n    //const newCat = {...this.state.categories}\r\n    //newCat[Object.keys(res)[0]] = Object.values(res)[0]\r\n    //this.setState({categories: newCat})\r\n  }\r\n\r\n  //TODO!!!: save categories and pass to front end!!!\r\n  saveRelationships = async(edges, nodes, relationshipTypes) => {\r\n    let inputInfo = {input: this.state.output, corpus:this.state.corpusName, data1:edges, data2:nodes, data3:relationshipTypes}\r\n    await fetch('/saveRelationships', {\r\n      method: \"POST\",\r\n      headers:{\r\n          \"content_type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(inputInfo)})\r\n          .then(res => res.json())\r\n\r\n    //const newCat = {...this.state.categories}\r\n    //newCat[Object.keys(res)[0]] = Object.values(res)[0]\r\n    //this.setState({categories: newCat})\r\n  }\r\n\r\n  // TODO: Create route to add term to weights and remove from category\r\n  addToWeights = (termsIndex) => {\r\n    const toDelete = []\r\n    const newCat = {...this.state.categories}\r\n    const newWeights = {...this.state.weights}\r\n\r\n    for (let r = 0; r < termsIndex.length; r++) {\r\n      toDelete.push([Object.keys(this.state.categories)[termsIndex[r][0]], \r\n        Object.keys(Object.values(this.state.categories)[termsIndex[r][0]])[termsIndex[r][1]], \r\n        Object.values(Object.values(this.state.categories)[termsIndex[r][0]])[termsIndex[r][1]]])\r\n    }\r\n\r\n    for (let r = 0; r < toDelete.length; r++) {\r\n      newWeights[toDelete[r][1]] = toDelete[r][2]\r\n      delete newCat[toDelete[r][0]][toDelete[r][1]]\r\n    }\r\n    this.setState({categories: newCat,\r\n                   weights: newWeights})\r\n  }\r\n\r\n  // TODO: Create route to add term to category and remove from weights\r\n  addToCategory = (termsIndex, cat) => {\r\n    const toAdd = []\r\n    const newCat = {...this.state.categories}\r\n    const newWeights = {...this.state.weights}\r\n\r\n    for (let r = 0; r < termsIndex.length; r++) {\r\n      toAdd.push([Object.keys(this.state.categories)[cat], \r\n        Object.keys(this.state.weights)[termsIndex[r]], \r\n        Object.values(this.state.weights)[termsIndex[r]]])\r\n    }\r\n\r\n    for (let r = 0; r < toAdd.length; r++) {\r\n      newCat[toAdd[r][0]][toAdd[r][1]] = toAdd[r][2]\r\n      delete newWeights[toAdd[r][1]]\r\n    }\r\n    this.setState({categories: newCat,\r\n                   weights: newWeights})\r\n  }\r\n\r\n  // TODO: Create route to delete terms from parser output before running weights\r\n  deleteTerms = (terms) => {\r\n    const newWeights = {...this.state.weights}\r\n    const toDelete = []\r\n\r\n    for (let r = 0; r < terms.length; r++) {\r\n      toDelete.push([Object.keys(this.state.weights)[terms[r]]])\r\n    }\r\n\r\n    for (let r = 0; r < toDelete.length; r++) {\r\n      delete newWeights[toDelete[r]]\r\n    }\r\n    this.setState({weights: newWeights})\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  deleteFile = (r) => {\r\n    const newFiles = {...this.state.files}\r\n    delete newFiles[Object.keys(this.state.filesList)[r]]\r\n    this.setState({files: newFiles})\r\n  }\r\n\r\n  addFile = (r) => {\r\n    const newFiles = {...this.state.files}\r\n    newFiles[Object.keys(this.state.filesList)[r]] = Object.values(this.state.filesList)[r]\r\n    this.setState({files: newFiles})\r\n  }\r\n\r\n\r\n\r\n\r\n  // TODO: Create route to delete a category and add its terms back to weight\r\n  deleteCategory = (cat) => {\r\n    const newWeights = {...this.state.weights}\r\n    const newCat = {...this.state.categories}\r\n    const toAdd = []\r\n\r\n    for (let r = 0; r < Object.keys(Object.values(this.state.categories)[cat]).length; r++) {\r\n      toAdd.push([Object.keys(Object.values(this.state.categories)[cat])[r], \r\n        Object.values (Object.values (this.state.categories) [cat]) [r]])\r\n    }\r\n\r\n    for (let r = 0; r < Object.keys(toAdd).length; r++) {\r\n      newWeights[toAdd[r][0]] = toAdd[r][1]\r\n    }\r\n\r\n    delete newCat[Object.keys(this.state.categories)[cat]]\r\n\r\n    this.setState({categories: newCat,\r\n                   weights: newWeights})\r\n  }\r\n\r\n  saveCategories = (cats) => {\r\n    this.sendCategories(cats)\r\n  }\r\n  \r\n  //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n  //                       Webpage Functions\r\n  //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n\r\n  // Moves to the next page in program\r\n  nextPage = () => {\r\n    if (this.state.mode === 33) {\r\n      this.setState({mode: 66})\r\n    } else if (this.state.mode == 66) {\r\n      this.setState({mode: 99})\r\n    } else if (this.state.mode == 99) {\r\n      this.setState({mode: 100})\r\n    }\r\n  }\r\n\r\n  // Moves back to previous page in program\r\n  prevPage = () => {\r\n    if (this.state.mode === 100) {\r\n      this.setState({mode: 99})\r\n    } else if (this.state.mode == 99) {\r\n      this.setState({mode: 66})\r\n    } else if (this.state.mode == 66) {\r\n      this.setState({mode: 33})\r\n    }\r\n  }\r\n\r\n  // Sets the input location for parser\r\n  setInput = (input) => {\r\n    this.setState({input: input})\r\n  }\r\n\r\n  // Sets the output location for parser\r\n  setOutput = (output) => {\r\n    this.setState({output: output})\r\n  }\r\n\r\n  //Sets the corpus name for csv\r\n  saveCorpusName = (name) => {\r\n    this.setState({corpusName: name})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <NavBar mode={this.state.mode}/>\r\n        {this.state.mode === 33 ? \r\n          <Documents \r\n          //dict={this.state.dict}\r\n                      nextPage={this.nextPage}\r\n                      setInput={this.setInput}\r\n                      setOutput={this.setOutput}\r\n                      oldInput={this.state.input}\r\n                      oldOutput={this.state.output}\r\n                      Files={this.Files}\r\n                      files={this.state.files}\r\n                      filesList={this.state.filesList}\r\n                      deleteFile={this.deleteFile}\r\n                      addFile={this.addFile}\r\n                      saveCorpusName={this.saveCorpusName}/> : \r\n                      \r\n                      this.state.mode === 66 ?\r\n                        <Terms Parser={this.Parser}\r\n                          loadCorpus = {this.loadCorpus}\r\n                          //dict={this.state.dict}\r\n                          nextPage={this.nextPage}\r\n                          prevPage={this.prevPage}\r\n                          getWeight={this.getWeight}\r\n                          saveWeight={this.saveWeight}\r\n                          weights={this.state.weights}\r\n                          //setOutput={this.setOutput}\r\n                          deleteTerms={this.deleteTerms}\r\n                          //oldOutput={this.state.output}\r\n                          save={this.saveCorpus}\r\n                          /> :\r\n\r\n                          this.state.mode === 99 ?\r\n                            <Categories\r\n                              getWeight={this.getWeight}\r\n                              weights={this.state.weights}\r\n                              nextPage={this.nextPage}\r\n                              prevPage={this.prevPage}\r\n                              createCategory={this.createCategory}\r\n                              categories={this.state.categories}\r\n                              addToWeights={this.addToWeights}\r\n                              addToCategory={this.addToCategory}\r\n                              saveCategories={this.saveCategories}\r\n                              \r\n                              deleteCategory={this.deleteCategory}/> :\r\n                            <Taxonomy\r\n                              saveRelationships={this.saveRelationships}\r\n                              prevPage={this.prevPage}\r\n                              categories={this.state.categories}/>\r\n        }  \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}